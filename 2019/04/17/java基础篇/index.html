<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>JAVA基础篇（一） | Hexo</title><meta name="description" content="JAVA基础篇（一） - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/theme.css"><link rel="search" type="application/opensearchdescription+xml" href="/atom.xml" title="Hexo"><link rel="stylesheet" href="/css/font-awesome.min.css"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head><body><div class="wrap"><header><h1 class="branding"><a href="/" title="Hexo"><img class="logo-image" src="/favicon.ico" alt="logo"></a></h1><ul class="nav nav-list"><li class="nav-list-item"><!--a.nav-list-link(class={active: act} href=url_for(value), target=tar)--><a class="nav-list-link" href="/" target="_self">首页</a></li><li class="nav-list-item"><!--a.nav-list-link(class={active: act} href=url_for(value), target=tar)--><a class="nav-list-link" href="/archives" target="_self">归档</a></li><li class="nav-list-item"><!--a.nav-list-link(class={active: act} href=url_for(value), target=tar)--><a class="nav-list-link" href="/tags" target="_self">标签</a></li><li class="nav-list-item"><!--a.nav-list-link(class={active: act} href=url_for(value), target=tar)--><a class="nav-list-link" href="/about" target="_self">关于</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">JAVA基础篇（一）</h1><p class="post-info"><i class="fa fa-calendar">&nbsp;</i>2019-04-17&nbsp;| <i class="fa fa-tags">&nbsp;</i><a class="post-tag-link" href="/tags/java/">java&nbsp;·&nbsp;</a><a class="post-tag-link" href="/tags/%E5%9F%BA%E7%A1%80/">基础&nbsp;·&nbsp;</a>&nbsp;| <i class="fa fa-folder-o">&nbsp;</i><a class="post-category-link" href="/categories/program/">program&nbsp;/&nbsp;</a><a class="post-category-link" href="/categories/program/JAVA/">JAVA&nbsp;/&nbsp;</a></p><div class="post-content"><p>（）</p>
<p>1.JDK和JRE的区别</p>
<p>对比项</p>
<p>JDK</p>
<p>JRE</p>
<p>名称释义</p>
<p>Java Development Kit</p>
<p>Java Runtime Enviroment</p>
<p>开发环境工具包,包含了各种类库和工具</p>
<p>运行环境</p>
<p>面向对象</p>
<p>开发人员</p>
<p>使用人员</p>
<p>细节对比</p>
<p>jdk/jre/bin中client和server文件夹下都包含一个jvm.dll</p>
<p>jre中只有server下面的jvm.dll</p>
<p>安装使用</p>
<p>配置环境变量后使用的javac,jdk</p>
<p>如果同时安装了jre和jdk使用的java要看环境变量中的配置顺序</p>
<ul>
<li>如果一台电脑安装两套以上的JRE，谁来决定呢？<blockquote>
<p>这个重大任务就落在java.exe身上。Java.exe的工作就是找到合适的JRE来运行Java程序。 Java.exe依照底下的顺序来查找JRE：自己的目录下有没有JRE；父目录有没有JRE；查询注册表： [HKEY_LOCAL_MACHINE\SOFTWARE\JavaSoft\Java Runtime Environment] 所以java.exe的运行结果与你的电脑里面哪个JRE被执行有很大的关系。</p>
</blockquote>
</li>
</ul>
<p>2.equals和==的区别</p>
<p>比较对象</p>
<p>方法</p>
<p>比较原则</p>
<p>基本类型</p>
<p>==</p>
<p>比较值是否相等</p>
<p>equals</p>
<p>比较值是否相等</p>
<p>引用类型</p>
<p>==</p>
<p>比较引用是否相等</p>
<p>equals</p>
<p>默认情况下使用 == 比较,若重写了equals方法,使用重写后的方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">深入 String重写了Object的equals方法,把引用比较改为了值比较,故两个值同 string的 equals 结果为true</span><br></pre></td></tr></table></figure>

<ol start="3">
<li> 对象 hashCode() 与 equals() 是否对等: hashCode()相等 是否 一定 equals()为 true</li>
</ol>
<blockquote>
<p>在JAVA中所有类都是Object类的子类, 在实际的实现中可以重写对应的方法,故不一定对等 例如 两个String 对象的hashCode可能一样 但实际 equals() = false</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HashSet 使用HashMap 将要保存的元素作为key,PRESENT 作为键值对put 到map中</span><br><span class="line">private static final Object PRESENT = new Object();</span><br><span class="line">即使用要放入的元素 的 hashCode方法作重复校验,使用hashMap的put方法,默认情况下会更新值,但不会更新key, </span><br><span class="line">所有当我们要实现自定义 Class 去重, 且保留最先进入的元素可以用hashset, 同时重写 hashCode()方法</span><br></pre></td></tr></table></figure>

<blockquote>
<p>例如</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CaseTest</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">DemoSet</span></span>&#123;</span><br><span class="line">        String id;</span><br><span class="line">        <span class="keyword">int</span> name;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">DemoSet</span><span class="params">(String id, <span class="keyword">int</span> name)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.id = id;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> result = <span class="number">17</span>;</span><br><span class="line">            result = <span class="number">31</span> * result + (id == <span class="keyword">null</span> ? <span class="number">0</span> : id.hashCode());</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> DemoSet)&#123;</span><br><span class="line">                DemoSet ds = (DemoSet) obj;</span><br><span class="line">                <span class="keyword">if</span>(ds.id.equals(<span class="keyword">this</span>.id))&#123; <span class="comment">// ds.id == this.id</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> String.format(<span class="string">&quot;&#123;id:%s,name:%d&#125;&quot;</span>,id,name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSet</span><span class="params">()</span></span>&#123;</span><br><span class="line">        HashSet set = <span class="keyword">new</span> HashSet();</span><br><span class="line">        Set&lt;DemoSet&gt; demoSets = Sets.newConcurrentHashSet();</span><br><span class="line">        demoSets.add(<span class="keyword">new</span> DemoSet(<span class="string">&quot;1&quot;</span>,<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        Set&lt;DemoSet&gt; demoSets2 = Sets.newConcurrentHashSet();</span><br><span class="line">        demoSets2.add(<span class="keyword">new</span> DemoSet(<span class="string">&quot;1&quot;</span>,<span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">        demoSets.addAll(demoSets2);</span><br><span class="line"></span><br><span class="line">        System.out.println(demoSets);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">最终列表之后保留 1,1 注意字符串 == 比较引用</span><br></pre></td></tr></table></figure>

<ol start="4">
<li> final 修饰符的作用</li>
</ol>
<p>作用</p>
<p>特性</p>
<p>类</p>
<p>最终类,不可继承</p>
<p>方法</p>
<p>不可重写</p>
<p>变量</p>
<p>常量,必须被初始化,初始化值不可修改<br>只要在对象构造完成之前初始化即可</p>
<blockquote>
<p>引申 为什么匿名内部类参数必须为final类型 局部内部类能访问方法中的所有的局部变量,问题在于 <strong>局部变量的生命周期与局部内部类的对象的生命周期的不一致性</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1.  设方法f被调用,从而在它的调用栈中生成了变量i,此时产生了一个局部内部类对象inner_object,它访问了该局部变量i.</span><br><span class="line">当方法f()运行结束后,局部变量i就已死亡了,不存在了</span><br><span class="line">但:局部内部类对象inner_object还可能一直存在(只能没有人再引用该对象时,它才会死亡),它不会随着方法f()运行结束死亡.</span><br><span class="line">这时:出现了一个&quot;荒唐&quot;结果:局部内部类对象 inner_object要访问一个已不存在的局部变量i!</span><br><span class="line">2.  当变量是final时,通过将final局部变量&quot;复制&quot;一份,复制品直接作为局部内部中的数据成员.这样:当局部内部类访问局部变量 时,其实真正访问的是这个局部变量的&quot;复制品&quot;(即:这个复制品就代表了那个局部变量).因此:当运行栈中的真正的局部变量死亡时,局部内部类对象仍可以 访问局部变量(其实访问的是&quot;复制品&quot;),给人的感觉:好像是局部变量的&quot;生命期&quot;延长了.</span><br><span class="line">3.  那么:核心的问题是:怎么才能使得:访问&quot;复制品&quot;与访问真正的原始的局部变量,其语义效果是一样的呢?</span><br><span class="line">4.  当变量是final时,若是基本数据类型,由于其值不变,因而:其复制品与原始的量是一样.语义效果相同.(若:不是final,就无法保证:复制品与原始变量保持一致了,因为:在方法中改的是原始变量,而局部内部类中改的是复制品)</span><br><span class="line">5.  当变量是final时,若是引用类型,由于其引用值不变(即:永远指向同一个对象),因而:其复制品与原始的引用变量一样,永远指向同一个对象(由于是 final,从而保证:只能指向这个对象,再不能指向其它对象),达到:局部内部类中访问的复制品与方法代码中访问的原始对象,永远都是同一个即:语义效 果是一样的.否则:当方法中改原始变量,而局部内部类中改复制品时,就无法保证:复制品与原始变量保持一致了(因此:它们原本就应该是同一个变量.) </span><br><span class="line">from https://feiyeguohai.iteye.com/blog/1500108</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>java中Math函数易错知识 Math.round(-1.5) = -1 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* &lt;ul&gt;&lt;li&gt;If the argument is NaN, the result is 0.</span><br><span class="line">* &lt;li&gt;If the argument is negative infinity or any value less than or</span><br><span class="line">* equal to the value of &#123;@code Integer.MIN_VALUE&#125;, the result is</span><br><span class="line">* equal to the value of &#123;@code Integer.MIN_VALUE&#125;.</span><br><span class="line">* &lt;li&gt;If the argument is positive infinity or any value greater than or</span><br><span class="line">* equal to the value of &#123;@code Integer.MAX_VALUE&#125;, the result is</span><br><span class="line">* equal to the value of &#123;@code Integer.MAX_VALUE&#125;.&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
 距离一致，取较大的值 Math.rint(-10.5) = -10.0 Math.rint(-11.5) = -12.0 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StrictMath.rint(a)</span><br><span class="line">x取整为它最接近的整数，如果x与两个整数的距离相等，则返回其中为偶数的那一个</span><br></pre></td></tr></table></figure>
 6.java的基本数据类型 java中有8中基本类型 byte boolean char short int float long double</li>
</ol>
<p>基本类型</p>
<p>字节长度</p>
<p>默认值</p>
<p>byte</p>
<p>1</p>
<p>0</p>
<p>short</p>
<p>2</p>
<p>0</p>
<p>int</p>
<p>4</p>
<p>0</p>
<p>long</p>
<p>8</p>
<p>0L</p>
<p>float</p>
<p>4</p>
<p>0.0f</p>
<p>double</p>
<p>8</p>
<p>0.0d</p>
<p>char</p>
<p>2</p>
<p>‘\u0000’</p>
<p>boolean</p>
<p>1</p>
<p>false</p>
<ol start="7">
<li> Java中字符串操作类，String StringBuffer StringBuilder 对比</li>
</ol>
<p>操作类</p>
<p>特点</p>
<p>String</p>
<p>声明不可变对象，每次操作产生新的对象，修改指针指向</p>
<p>StringBuffer</p>
<p>线程安全，每次可操作原有对象</p>
<p>StringBuilder</p>
<p>线程不安全，更高性能，操作原有对象</p>
<p>StringBUffer 在方法上使用 synchronized关键字 保证线程安全</p>
</div></article></div><div class="article"><hr><h2>版权声明</h2>| 文章作者：<a target="_blank" rel="noopener" href="http://wwwuxt.cc">wwwuxt</a><br>| 文章链接：<a href="http://example.com/2019/04/17/java%E5%9F%BA%E7%A1%80%E7%AF%87/">http://example.com/2019/04/17/java%E5%9F%BA%E7%A1%80%E7%AF%87/</a><br>| 许可协议：<a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a><hr></div></main><footer><div class="paginator"><a class="prev" href="/2019/04/17/presto%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E8%B0%83%E6%95%B4%E5%8F%82%E6%95%B0%E8%AE%B0%E5%BD%95/"><!--!= __('< PREV_POST')-->< PRESTO使用过程中调整参数记录</a><a class="next" href="/2019/04/16/%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E6%BA%90%E8%8E%B7%E5%8F%96%E5%AD%97%E6%AE%B5%E5%A4%87%E6%B3%A8%E4%BF%A1%E6%81%AF/"><!--!= __('NEXT_POST >')-->常用数据源获取字段备注信息 ></a></div><div class="clearfix"></div><div class="copyright"><p id="host_by"> <a href="/atom.xml"><i class="fa fa-rss"></i></a><span id="busuanzi_container_site_pv">&nbsp;<i class="fa fa-eye">&nbsp;</i><span id="busuanzi_value_site_pv"><i class="fa fa-spinner"></i></span> times, </span><span id="busanzi_container_site_uv">&nbsp;<i class="fa fa-user">&nbsp;</i><span id="busuanzi_value_site_uv"><i class="fa fa-spinner"></i></span> times.</span><br> &copy; 2017 - 2021 <a target="_blank" rel="noopener" href="http://wwwuxt.cc">wwwuxt</a>. 
 Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/wwwuxt/hexo-theme-artemisX" target="_blank">ArtemisX</a>.<br></p><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></footer></div><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-108353521-1']);
_gaq.push(['_trackPageview']);

(function () {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
console.log('Google Analytics')
</script><script>(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else{
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
    console.log('wwwuxt.cc')
})();
</script><script>(function(){
    var req = GetXmlHttpObject()  
    if (req == null) {  
        console.log("not support AJAX!");  
        return;  
    }
    req.onreadystatechange = function() {  
        if (req.readyState === 4 && req.status === 200) {  
            var deploy_server = req.getResponseHeader("Server");
            console.log(deploy_server)
            if(deploy_server === 'Coding Pages'){
                document.getElementById('host_by').innerHTML+='Hosted by <a target="_blank" rel="noopener" href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a>.'
            }
            else if(deploy_server === 'GitHub.com'){
                document.getElementById('host_by').innerHTML+='Hosted by <a target="_blank" rel="noopener" href="https://pages.github.com" style="font-weight: bold">GitHub Pages</a>.'
            }
            else{
                document.getElementById('host_by').innerHTML+='Hosted by <a href="#" style="font-weight: bold">'+ deploy_server + '</a>.'
            }
        }  
    };  
    req.open('GET', document.location, true);
    req.send(null);
})();
function GetXmlHttpObject() {  
    var xmlHttp = null;  
    try {  
        // Firefox, Opera 8.0+, Safari  
        xmlHttp = new XMLHttpRequest();  
    } catch (e) {  
        // Internet Explorer  
        try {  
            xmlHttp = new ActiveXObject("Msxml2.XMLHTTP");  
        } catch (e) {  
            xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");  
        }  
    }  
    return xmlHttp;  
}  </script></body></html>